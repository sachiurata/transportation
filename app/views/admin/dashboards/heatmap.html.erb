<h1>ルートの表示</h1>

<div 
  class="container-fluid" 
  data-controller="map"
  data-map-api-key-value="<%= ENV['GOOGLE_MAP_API_KEY'] %>"
  data-map-routes-value='<%= @routes_data.to_json %>'
  data-map-start-marker-path-value="<%= asset_path('start_marker.svg') %>"
  data-map-end-marker-path-value="<%= asset_path('end_marker.svg') %>"
>
  <div class="row">
    <div class="col-md-8">
      <div data-map-target="map" style="height: 600px; width: 100%;"></div>
      <div id="legend" style="padding: 10px; display: flex; align-items: center; gap: 20px; border-top: 1px solid #ccc; margin-top: 5px;">
        
        <div style="display: flex; align-items: center; gap: 8px;">
          <%= image_tag 'start_marker.svg', width: 16, height: 16 %>
          <span>出発地</span>
        </div>
      
        <div style="display: flex; align-items: center; gap: 8px;">
          <%= image_tag 'end_marker.svg', width: 16, height: 16 %>
          <span>目的地</span>
        </div>
      </div>
    </div>

    <div class="col-md-4">
      <h4>条件選択</h4>
      <div class="mb-3">
        <h5>曜日</h5>
        <div class="row">
          <div class="col-md-6">
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="月曜日" id="checkMonday" checked>
              <label class="form-check-label" for="checkMonday">月曜日</label>
            </div>
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="火曜日" id="checkTuesday" checked>
              <label class="form-check-label" for="checkTuesday">火曜日</label>
            </div>
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="水曜日" id="checkWednesday" checked>
              <label class="form-check-label" for="checkWednesday">水曜日</label>
            </div>
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="木曜日" id="checkThursday" checked>
              <label class="form-check-label" for="checkThursday">木曜日</label>
            </div>
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="金曜日" id="checkFriday" checked>
              <label class="form-check-label" for="checkFriday">金曜日</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="土曜日" id="checkSaturday" checked>
              <label class="form-check-label" for="checkSaturday">土曜日</label>
            </div>
            <div class="form-check" data-action="change->map#filter">
              <input class="form-check-input" type="checkbox" value="日曜日" id="checkSunday" checked>
              <label class="form-check-label" for="checkSunday">日曜日</label>
            </div>
          </div>
        </div>
      </div>

      <div class="mb-3">
        <h5>時間帯</h5>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked>
          <label class="form-check-label" for="flexRadioDefault1">
            出発時間
          </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
          <label class="form-check-label" for="flexRadioDefault2">
            到着時間
          </label>
        </div>
      </div>

      <div class="mb-3">
        <div id="time-range-detailed" class="row g-3 align-items-center">
          <div class="col-md-6">
            <div class="input-group">
              <span class="input-group-text">開始</span>
              <select class="form-select" aria-label="開始時間（時）">
                <% (0..23).each do |hour| %>
                  <option value="<%= hour %>"><%= format('%02d', hour) %></option>
                <% end %>
              </select>
              <span class="input-group-text">:</span>
              <select class="form-select" aria-label="開始時間（分）">
                <% [0, 15, 30, 45].each do |min| %>
                  <option value="<%= min %>"><%= format('%02d', min) %></option>
                <% end %>
              </select>
            </div>
          </div>

          <div class="col-md-6">
            <div class="input-group">
              <span class="input-group-text">終了</span>
              <select class="form-select" aria-label="終了時間（時）">
                <% (0..23).each do |hour| %>
                  <option value="<%= hour %>"><%= format('%02d', hour) %></option>
                <% end %>
              </select>
              <span class="input-group-text">:</span>
              <select class="form-select" aria-label="終了時間（分）">
                <% [0, 15, 30, 45].each do |min| %>
                  <option value="<%= min %>"><%= format('%02d', min) %></option>
                <% end %>
              </select>
            </div>
          </div>
          
        </div>
      </div>

      <div class="mb-3">
        
      </div>

      <select class="form-select" data-action="change->map#filter">
        <option value="all" selected>全ての出発地</option>
        <option value="佐沼高等学校">佐沼高等学校</option>
        <option value="登米総合産業高等学校">登米総合産業高等学校</option>
        <option value="登米高等学校">登米高等学校</option>
        <option value="飛鳥未来きずな高等学校">飛鳥未来きずな高等学校</option>
      </select>
    </div>
  </div>
</div>

